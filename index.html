<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DSRT Studio Ultimate Upgrade</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  .dragging { opacity: 0.5; }
  .transition-height { transition: max-height 0.3s ease; overflow: hidden; }
  .highlight-drag { background-color: #1f2937 !important; box-shadow: 0 0 10px #3b82f6; }
  .premium { color: #facc15; font-weight: bold; }
</style>
</head>
<body class="bg-gray-900 text-white">

<header class="bg-gray-800 p-4 flex justify-between items-center">
  <h1 class="text-2xl font-bold">DSRT Studio</h1>
  <nav class="space-x-4">
    <button onclick="showPage('landing')" class="px-3 py-2 bg-blue-600 rounded hover:bg-blue-700">Landing Page</button>
    <button onclick="showPage('dashboard')" class="px-3 py-2 bg-gray-700 rounded hover:bg-gray-600">Dashboard</button>
  </nav>
</header>

<section id="landing" class="p-6">
  <div class="text-center mb-10">
    <h2 class="text-4xl font-bold mb-4">Selamat Datang di DSRT Studio</h2>
    <p class="text-gray-300 mb-4">Digital Smart Remaster Technology â€“ Perbaiki & tingkatkan kualitas foto/gambar Anda dengan teknologi Manual & AI.</p>
    <button onclick="showPage('dashboard')" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded font-semibold">Mulai Sekarang</button>
  </div>
</section>

<section id="dashboard" class="p-6 hidden">
  <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-4 space-y-2 md:space-y-0">
    <div class="flex space-x-4">
      <button id="manualTab" class="bg-blue-600 px-4 py-2 rounded">DSRT Manual</button>
      <button id="aiTab" class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded">DSRT AI</button>
    </div>
    <input id="searchInput" type="text" placeholder="Cari fitur..." class="px-4 py-2 rounded bg-gray-700 placeholder-gray-400 text-white w-full md:w-64">
  </div>

  <!-- Manual -->
  <div id="manualContent" class="space-y-2">
    <h2 class="text-xl font-semibold mb-2">Restorasi Manual</h2>
    <ul id="manualList" class="space-y-2">
      <li class="bg-gray-800 p-3 rounded cursor-move hover:bg-gray-700 premium" draggable="true">
        <div class="flex justify-between items-center">
          <span>Restorasi Warna ðŸ’Ž</span>
          <button onclick="toggleSub(this,'manualColorSub')">
            <svg class="w-4 h-4 transition-transform transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
        </div>
        <ul id="manualColorSub" class="ml-4 mt-2 transition-height max-h-0 overflow-hidden">
          <li onclick="openModal('Saturation','Atur Saturation warna foto')" class="p-1 hover:bg-gray-700 rounded cursor-pointer">Saturation</li>
          <li onclick="openModal('Hue','Atur Hue foto')" class="p-1 hover:bg-gray-700 rounded cursor-pointer">Hue</li>
          <li onclick="openModal('Brightness','Atur Brightness foto')" class="p-1 hover:bg-gray-700 rounded cursor-pointer">Brightness</li>
        </ul>
      </li>

      <li class="bg-gray-800 p-3 rounded cursor-move hover:bg-gray-700" draggable="true">
        <div class="flex justify-between items-center">
          <span>Koreksi Detail ðŸ”§</span>
          <button onclick="toggleSub(this,'manualDetailSub')">
            <svg class="w-4 h-4 transition-transform transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
        </div>
        <ul id="manualDetailSub" class="ml-4 mt-2 transition-height max-h-0 overflow-hidden">
          <li onclick="openModal('Sharpness','Tingkatkan Sharpness')" class="p-1 hover:bg-gray-700 rounded cursor-pointer">Sharpness</li>
          <li onclick="openModal('Noise Reduction','Kurangi Noise')" class="p-1 hover:bg-gray-700 rounded cursor-pointer">Noise Reduction</li>
          <li onclick="openModal('Texture','Atur tekstur gambar')" class="p-1 hover:bg-gray-700 rounded cursor-pointer">Texture</li>
        </ul>
      </li>
    </ul>
  </div>

  <!-- AI -->
  <div id="aiContent" class="hidden space-y-2">
    <h2 class="text-xl font-semibold mb-2">AI Enhancement</h2>
    <ul id="aiList" class="space-y-2">
      <li class="bg-gray-800 p-3 rounded cursor-move hover:bg-gray-700 premium" draggable="true">
        <div class="flex justify-between items-center">
          <span>Auto Enhance ðŸ’Ž</span>
          <button onclick="toggleSub(this,'autoEnhanceSub')">
            <svg class="w-4 h-4 transition-transform transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
        </div>
        <ul id="autoEnhanceSub" class="ml-4 mt-2 transition-height max-h-0 overflow-hidden">
          <li onclick="openModal('Brightness','AI atur Brightness otomatis')" class="p-1 hover:bg-gray-700 rounded cursor-pointer">Brightness</li>
          <li onclick="openModal('Contrast','AI atur Contrast otomatis')" class="p-1 hover:bg-gray-700 rounded cursor-pointer">Contrast</li>
          <li onclick="openModal('Sharpness','AI atur Sharpness otomatis')" class="p-1 hover:bg-gray-700 rounded cursor-pointer">Sharpness</li>
        </ul>
      </li>

      <li class="bg-gray-800 p-3 rounded cursor-move hover:bg-gray-700" draggable="true">
        <div class="flex justify-between items-center">
          <span>AI Colorize ðŸ¤–</span>
          <button onclick="toggleSub(this,'aiColorizeSub')">
            <svg class="w-4 h-4 transition-transform transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
        </div>
        <ul id="aiColorizeSub" class="ml-4 mt-2 transition-height max-h-0 overflow-hidden">
          <li onclick="openModal('Color Tones','Atur Color Tones otomatis')" class="p-1 hover:bg-gray-700 rounded cursor-pointer">Color Tones</li>
          <li onclick="openModal('Skin Color','Atur Skin Color otomatis')" class="p-1 hover:bg-gray-700 rounded cursor-pointer">Skin Color</li>
          <li onclick="openModal('Object Color','Atur Object Color otomatis')" class="p-1 hover:bg-gray-700 rounded cursor-pointer">Object Color</li>
        </ul>
      </li>
    </ul>
  </div>
</section>

<div id="featureModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center hidden">
  <div class="bg-gray-800 p-6 rounded w-11/12 md:w-1/2 relative">
    <button onclick="closeModal()" class="absolute top-2 right-2 text-gray-400 hover:text-white text-xl">&times;</button>
    <h3 id="modalTitle" class="text-2xl font-bold mb-4"></h3>
    <p id="modalDesc" class="text-gray-300"></p>
  </div>
</div>

<script>
function showPage(pageId){
  document.getElementById('landing').classList.add('hidden');
  document.getElementById('dashboard').classList.add('hidden');
  document.getElementById(pageId).classList.remove('hidden');
}

function toggleSub(button, subId){
  const sub = document.getElementById(subId);
  if(sub.style.maxHeight && sub.style.maxHeight !== "0px"){
    sub.style.maxHeight = "0px";
  } else {
    sub.style.maxHeight = sub.scrollHeight + "px";
  }
  const arrow = button.querySelector('svg');
  arrow.classList.toggle('rotate-180');
}

const featureModal = document.getElementById('featureModal');
const modalTitle = document.getElementById('modalTitle');
const modalDesc = document.getElementById('modalDesc');
function openModal(title, desc){ modalTitle.innerText = title; modalDesc.innerText = desc; featureModal.classList.remove('hidden'); }
function closeModal(){ featureModal.classList.add('hidden'); }

const manualTab = document.getElementById('manualTab');
const aiTab = document.getElementById('aiTab');
const manualContent = document.getElementById('manualContent');
const aiContent = document.getElementById('aiContent');
manualTab.addEventListener('click', () => { manualContent.classList.remove('hidden'); aiContent.classList.add('hidden'); manualTab.classList.add('bg-blue-600'); manualTab.classList.remove('bg-gray-700'); aiTab.classList.remove('bg-blue-600'); aiTab.classList.add('bg-gray-700'); });
aiTab.addEventListener('click', () => { aiContent.classList.remove('hidden'); manualContent.classList.add('hidden'); aiTab.classList.add('bg-blue-600'); aiTab.classList.remove('bg-gray-700'); manualTab.classList.remove('bg-blue-600'); manualTab.classList.add('bg-gray-700'); });

// Drag & Drop with highlight
function enableDragDrop(listId){
  const list = document.getElementById(listId);
  let dragged;
  list.addEventListener('dragstart', (e) => { dragged = e.target; e.target.classList.add('dragging'); });
  list.addEventListener('dragend', (e) => { e.target.classList.remove('dragging'); const items = list.querySelectorAll('li'); items.forEach(i=>i.classList.remove('highlight-drag')); });
  list.addEventListener('dragover', (e) => {
    e.preventDefault();
    const afterElement = getDragAfterElement(list, e.clientY);
    if(afterElement == null){ list.appendChild(dragged); }
    else{ list.insertBefore(dragged, afterElement); }
    const items = list.querySelectorAll('li');
    items.forEach(i=>i.classList.remove('highlight-drag'));
    if(afterElement) afterElement.classList.add('highlight-drag'); else list.lastChild.classList.add('highlight-drag');
  });
  function getDragAfterElement(container,y){
    const draggableElements = [...container.querySelectorAll('li:not(.dragging)')];
    return draggableElements.reduce((closest, child) => {
      const box = child.getBoundingClientRect();
      const offset = y - box.top - box.height/2;
      if(offset < 0 && offset > closest.offset){ return { offset: offset, element: child }; } 
      else { return closest; }
    }, { offset: Number.NEGATIVE_INFINITY }).element;
  }
}
enableDragDrop('manualList'); enableDragDrop('aiList');

// Search filter
const searchInput = document.getElementById('searchInput');
searchInput.addEventListener('input', () => {
  const filter = searchInput.value.toLowerCase();
  ['manualList','aiList'].forEach(listId => {
    const items = document.getElementById(listId).querySelectorAll('li');
    items.forEach(item => { item.style.display = item.innerText.toLowerCase().includes(filter) ? 'block' : 'none'; });
  });
});
</script>
</body>
</html>
